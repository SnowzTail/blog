<!DOCTYPE html>
<html lang="en-us">
    <head>
    <style>
        html {
            visibility: hidden;
            opacity: 0;
        }
    </style>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noodp" />
    
    <meta name="author" content="SnowzTail">
    
    <meta name="description" content="(๑・ω・)～❤">
    
    <meta name="keywords" content="Notes">
    
    
    <link rel="prev" href="https://snowztail.com/cvx-1-convex-sets/" />
    
    <link rel="next" href="https://snowztail.com/cvx-3-ordering-separating-and-supporting/" />
    <link rel="canonical" href="https://snowztail.com/cvx-2-operations/" />
    <link rel="icon" href="/images/profile/SnowzTail.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <title>
        
        
        凸优化 2 - 运算 | SnowzTail: Share Wonder
        
    </title>
    <meta name="title"
        content="凸优化 2 - 运算 | SnowzTail: Share Wonder">
    
<link rel="stylesheet" href="/css/main.min.css">


    
    
 

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/snowztail.com"
    },
    "articleSection" : "posts",
    "name" : "凸优化 2 - 运算",
    "headline" : "凸优化 2 - 运算",
    "description" : "这一章介绍一些保持集合凸性的运算. 交集 如果集合 \\({S_1}\\) 和 \\({S_2}\\) 都是凸的, 那么它们的交集 \\({S_1} \\cap {S_2}\\) 也是凸的. 这个结论可以扩展到无数个集合的情况: 如果对于每个",
    "inLanguage" : "en-us",
    "author" : "SnowzTail",
    "creator" : "SnowzTail",
    "publisher": "SnowzTail",
    "accountablePerson" : "SnowzTail",
    "copyrightHolder" : "SnowzTail",
    "copyrightYear" : "2019",
    "datePublished": "2019-12-10 21:23:09 \x2b0000 UTC",
    "dateModified" : "2019-12-10 21:23:09 \x2b0000 UTC",
    "url" : "https:\/\/snowztail.com\/cvx-2-operations\/",
    "wordCount" : "2073",
    "keywords" : [ "Convex Optimization", "SnowzTail: Share Wonder"]
}
</script>

</head>

    <body class="">
        <div class="wrapper">
            <nav class="navbar">
    
    <progress class="content_progress" max="0" value="0"></progress>
    
    <div class="container">
        <div class="navbar-header header-logo">
            <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-heart"></i></a>
            <a href="https://snowztail.com">SnowzTail: Share Wonder</a>
        </div>
        <div class="navbar-right">
            
            <span class="menu">
                
                <a class="menu-item"
                    href="/posts/" title="">Posts</a>
                
                <a class="menu-item"
                    href="/categories/" title="">Categories</a>
                
                <a class="menu-item"
                    href="/tags/" title="">Tags</a>
                
                <a class="menu-item"
                    href="/about/" title="">About</a>
                
            </span>
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
    
    <progress class="content_progress" max="0" value="0"></progress>
    
    <div class="container">
        <div class="navbar">
            <div class="navbar-header header-logo">
                <a href="javascript:void(0);" class="theme-switch"><i class="fas fa-heart"></i></a>
                <a href="https://snowztail.com">SnowzTail: Share Wonder</a>
            </div>
            <div class="navbar-right">
                <div class="menu-toggle">
                    <span></span><span></span><span></span>
                </div>
            </div>
        </div>

        <div class="menu" id="mobile-menu">
            
            
            <a class="menu-item"
                href="/posts/" title="">Posts</a>
            
            <a class="menu-item"
                href="/categories/" title="">Categories</a>
            
            <a class="menu-item"
                href="/tags/" title="">Tags</a>
            
            <a class="menu-item"
                href="/about/" title="">About</a>
            
        </div>
    </div>
</nav>

            <main class="main">
                <div class="container">
                    <article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">凸优化 2 - 运算</h1>
        <div class="post-meta">
            <a itemprop="name" href="https://snowztail.com"
                rel="author">SnowzTail</a>
            <span class="post-time">
                on <time datetime=2019-12-10
                    itemprop="datePublished">December 10, 2019</time>
            </span>
            in
            
            <span class="post-category">
                <a href="https://snowztail.com/categories/optimization/"> Optimization,</a>
                
            </span>
            <span class="post-word-count">2073 words</span>
        </div>
    </header>

    <div class="post-content">
        

        
        
        

        
        

        
        
        

        
        
        

        <p>这一章介绍一些保持集合凸性的运算.</p>
<h2 id="交集">交集</h2>
<p>如果集合 \({S_1}\) 和 \({S_2}\) 都是凸的, 那么它们的交集 \({S_1} \cap {S_2}\) 也是凸的. 这个结论可以扩展到无数个集合的情况: 如果对于每个 \(\alpha  \in A\) 集合 \({S _ \alpha }\) 都是凸的, 那么 \({ \cap _ {\alpha  \in A}}{S _\alpha }\) 也是凸的. 比如, 半空间和超平面都是凸集, 多面体作为它们的交集也是凸集.</p>
<ul>
<li>
<p>半正定锥</p>
<p>半正定锥 \(\mathbb{S}_ + ^n\) 可以表示成一些集合的交集:</p>
<p>\[\mathop  \cap \limits_{z \ne 0} \{ {X \in {\mathbb{S}^n}|{z^T}Xz \ge 0} \}\]</p>
<p>对于任意 \({z \ne 0}\), \({{z^T}Xz}\) 都是关于 \(X\) 的线性函数, 所以每个集合实例都是 \({{\mathbb{S}^n}}\) 中的半空间. 半正定锥是凸集, 因为它可以写成这些凸集的交集.</p>
</li>
</ul>
<p>我们后面会看到这个结论反过来也成立: 任何封闭的凸集 \(S\) 都可以写成半空间群的交集, 其中每个半空间都包含了集合 \(S\).</p>
<h2 id="仿射函数">仿射函数</h2>
<p>定义 <strong>仿射函数 (affine function)</strong> \(f:{\mathbb{R}^n} \to {\mathbb{R}^m}\) 为:</p>
<p>\[f(x) = Ax + b\]</p>
<p>其中 \(A \in {\mathbb{R}^{m \times n}},b \in {\mathbb{R}^m}\). 也就是说, 仿射函数是线性函数和常数的和.</p>
<p>如果存在凸集 \(S \subseteq {\mathbb{R}^n}\) 和仿射函数 \(f:{\mathbb{R}^n} \to {\mathbb{R}^m}\), 那么原集合 \(S\) 在函数 \(f\) 下的 <strong>像 (image)</strong></p>
<p>\[f(S) = \{ {f(x)|x \in S} \} = \{ {x|{f^{ - 1}}(x) \in S} \}\]</p>
<p>是凸集. 类似的,如果 \(f:{\mathbb{R}^k} \to {\mathbb{R}^n}\) 是仿射函数, 那么原集合 \(S\) 在函数 \(f\) 下的 <strong>原像 (inverse image)</strong></p>
<p>\[{f^{ - 1}}(S) = \{ {x|f(x) \in S} \}\]</p>
<p>也是凸的. 对比像和原像可以知道, \(\{ {x|{f^{ - 1}}(x) \in S} \}\) 和 \(\{ {x|f(x) \in S} \}\) 是两个构造凸集. 下面是一些常见的仿射函数:</p>
<ul>
<li>
<p>伸缩, 平移</p>
<p>已知凸集 \(S \subseteq {\mathbb{R}^n}\), 对于伸缩系数 \(\alpha  \in \mathbb{R}\) 和平移系数 \(a \in {\mathbb{R}^n}\), 集合 \(\alpha S = \{ {\alpha x|x \in S} \}\) 和 \(S + a = \{ {x + a|x \in S} \}\) 都是凸集.</p>
</li>
<li>
<p>投影</p>
<p>已知凸集 \(S \subseteq {\mathbb{R}^m} \times {\mathbb{R}^n}\), 它向某几个坐标的投影 \(T = \{ {{x_1} \in {\mathbb{R}^m}|( {{x_1},{x_2}} ) \in S} \}\) 也是凸集.</p>
</li>
<li>
<p>和, 笛卡尔积</p>
<p>已知凸集 \({S_1},{S_2} \subseteq {\mathbb{R}^n}\), 那么它们的和 \({S_1} + {S_2} = \{ {x + y|x \in {S_1},y \in {S_2}} \}\) 是凸集; 笛卡尔积 (Cartesian product) \({S_1} \times {S_2} = \{ {( {{x_1},{x_2}} )|{x_1} \in {S_1},{x_2} \in {S_2}} \}\) 是凸集. 笛卡尔积也称为直积, 它包含了两个集合所有可能的有序对.</p>
</li>
<li>
<p>部分和</p>
<p>已知凸集 \({S_1},{S_2} \subseteq {\mathbb{R}^n} \times {\mathbb{R}^m}\), 那么它们的部分和 \(S = \{ {( {x,{y_1} + {y_2}} )|( {x,{y_1}} ) \in {S_1},( {x,{y_2}} ) \in {S_2}} \}\) 是凸集, 其中 \(x \in {\mathbb{R}^n},y \in {\mathbb{R}^m}\). 这里集合 \(S\) 的维度同样是 \({\mathbb{R}^n} \times {\mathbb{R}^m}\), 其中前 \(n\) 项是 \({S_1},{S_2}\) 的前 \(n\) 项的交集, 后 \(m\) 项是 \({S_1},{S_2}\) 的后 \(m\) 项的和. 当 \(m = 0\) 时, 部分和退化为 \({S_1},{S_2}\) 的交集; 当 \(n = 0\) 时, 部分和退化为 \({S_1},{S_2}\) 的和.</p>
</li>
</ul>
<h2 id="透视函数">透视函数</h2>
<p><strong>透视函数 (perspective function)</strong> 对于原向量进行归一化使得最后一维的长度为 1, 然后舍弃最后一维: \(P:{\mathbb{R}^{n + 1}} \to {\mathbb{R}^n}\), \(P(z,t) = z/t\), 其中 \(z \in {\mathbb{R}^n},t \in {\mathbb{R}_{ +  + }}\).</p>
<blockquote cite="透视函数与小孔成像">
小孔成像把三维物体投影到两维平面上. 位于坐标 \(( {{x_1},{x_2},{x_3}} )\) 的原物体经由一个位于原点的小孔被投影到像平面上的 \( - ( {{x_1}/{x_3},{x_2}/{x_3},1} )\). 最后一维不包含信息所以可以被忽略.
</blockquote>
<figure>
    <img src="/figures/cvx-2-operations/1-pin-hole-camera.jpg"/> <figcaption>
            <h4>原位置向像位置的映射对应于透视函数</h4>
        </figcaption>
</figure>

<p>如果 \(C \subseteq {\mathbb{R}^n} \times {\mathbb{R}_{ +  + }}\) 是凸集, 那么它在透视函数下的像</p>
<p>\[P( C ) = \{ {P(x)|x \in C} \}\]</p>
<p>也是凸集.</p>
<details>
    <summary>证明: 凸集的像也是凸集</summary>
    <p>假设 \(x = (\tilde x,{x _ {n + 1}}),y = (\tilde y,{y _ {n + 1}}) \in {\mathbb{R}^{n + 1}}\) 并且 \({x _ {n + 1}} > 0,{y _ {n + 1}} > 0\), 那么 \(P(x) = \tilde x/{x _ {n + 1}},P(y) = \tilde y/{y _ {n + 1}}\). 对于 \(0 \le \theta  \le 1\),</p>
    <p>\[P\( {\theta x + (1 - \theta )y} \) = \frac{{\theta \tilde x + (1 - \theta )\tilde y}}{{\theta {x _ {n + 1}} + (1 - \theta ){y _ {n + 1}}}} = \mu P(x) + (1 - \mu )P(y)\]</p>
    <p>其中 \(\mu  \in [0,1]\):</p>
    <p>\[\mu  = \frac{{\theta {x _ {n + 1}}}}{{\theta {x _ {n + 1}} + (1 - \theta ){y _ {n + 1}}}}\]</p>
    <p>\(\theta \) 和 \(\mu \) 是单调的: 当 \(\theta \) 在 0, 1 间变化时形成线段 \([x,y]\), \(\mu \) 也在 0, 1 间变化形成线段 \([P(x),P(y)]\), 所以 \(P\left( {[x,y]} \right) = [P(x),P(y)]\). 由于线段在透视函数下的像 \(P\left( {[x,y]} \right)\) 属于 \(P( C )\), 所以 \([P(x),P(y)]\) 也在 \(P( C )\) 中, 即 \(P( C )\) 是凸集.</p>
</details>
<p>反过来, 凸集 \(C \subseteq {\mathbb{R}^n}\) 在透视函数下的原像</p>
<p>\[{P^{ - 1}}( C ) = \{ {(x,t) \in {\mathbb{R}^{n + 1}}|x/t \in C,t &gt; 0} \}\]</p>
<p>也是凸集.</p>
<details>
    <summary>证明: 凸集的原像也是凸集</summary>
    <p>假设 \((x,t) \in {P^{ - 1}}( C ),(y,s) \in {P^{ - 1}}( C )\) 并且 \(0 \le \theta  \le 1\). 可知 \((x,t) \in {P^{ - 1}}( C ) \Leftrightarrow P(x,t) \in C \Leftrightarrow x/t \in C\). 我们需要证明</p>
    <p>\[\theta (x,t) + (1 - \theta )(y,s) \in {P^{ - 1}}( C ) \Leftrightarrow \frac{{\theta x + (1 - \theta )y}}{{\theta t + (1 - \theta )s}} \in C\]</p>
    <p>上式成立因为</p>
    <p>\[\frac{{\theta x + (1 - \theta )y}}{{\theta t + (1 - \theta )s}} = \mu (x/t) + (1 - \mu )(y/s)\]</p>
    <p>显然等式右边两项都属于 \(C\), 其中 \(\mu  \in [0,1]\):</p>
    <p>\[\mu  = \frac{{\theta t}}{{\theta t + (1 - \theta )s}}\]</p>
</details>
<h2 id="线性分式函数">线性分式函数</h2>
<p><strong>线性分式函数 (linear-fractional function)</strong> 由透视函数和仿射函数组成. 将仿射函数 \(g:{\mathbb{R}^n} \to {\mathbb{R}^{m + 1}}\) 写成以下形式:</p>
<p>\[g(x) = \begin{bmatrix} A \\ c^T \end{bmatrix} x + \begin{bmatrix} b \\ d \end{bmatrix} \]</p>
<p>其中 \(A \in {\mathbb{R}^{m \times n}},b \in {\mathbb{R}^m},c \in {\mathbb{R}^n},d \in \mathbb{R}\). 定义线性分式函数 \(f:{\mathbb{R}^n} \to {\mathbb{R}^m}\), \(f = P \circ g\) (其中 \( \circ \) 为复合符号, 表示将仿射函数 \(g\) 的输出用作透视函数 \(P\) 的输入: \((P \circ g)(x) = P\left( {g(x)} \right)\)):</p>
<p>\[f(x) = \frac{{Ax + b}}{{{c^T}x + d}}\]</p>
<p>定义域为 \({\rm{dom}}(f) = \{ {x|{c^T}x + d &gt; 0} \}\). 从代数角度来看, 它是系数矩阵</p>
<p>\[Q = \begin{bmatrix} A &amp; b \\ c^T &amp; d \end{bmatrix} \in {\mathbb{R}^{(m + 1)(n + 1)}}\]</p>
<p>左乘于点 \((x,1)\) 得到 \((Ax + b,{c^T}x + d)\) 之后归一化的结果 \(\left( {f(x),1} \right)\). 从几何意义上说, 这个表达式通过 \({\mathbb{R}^n}\) 中的任意一个点 \(z\) 构造了一个 \({\mathbb{R}^{n + 1}}\) 中的 (最后一个分量为正的) 开射线 \(\mathcal{P}(z) = \{ {t(z,1)|t &gt; 0} \}\); 反过来, \({\mathbb{R}^{n + 1}}\) 中的任意一条 (最后一个分量为正的) 射线都可以通过一些 \(z \in {\mathbb{R}^n}\) 表示为 \(\mathcal{P}(z) = \{ {t(z,1)|t \ge 0} \}\). \(\mathcal{P}\) 表示了 \({\mathbb{R}^n}\) 和 (最后一个分量为正的) 射线之间的一一对应的关系. 这样一来, 线性分式函数可以表示为:</p>
<p>\[f(x) = {\mathcal{P}^{ - 1}}( {Q\mathcal{P}(x)} )\]</p>
<p>也就是说, 从 \(\{ {x \in {\mathbb{R}^n}|{c^T}x + d &gt; 0} \}\) 出发, 我们可以得到 \({\mathbb{R}^{n + 1}}\) 中的一条射线 \({\mathcal{P}(x)}\). 将线性变换矩阵 \(Q\) 作用于这条射线, 得到一条新的 (最后一个分量为正的) 射线 \({Q\mathcal{P}(x)}\). 最后, \(f(x)\) 可以通过逆透射变换恢复出来. 由于其中每个步骤 (投射, 线性变换, 逆投射) 都是保凸的, 所以线性分式函数也是保凸函数: 对于任意 \(x \in C\) 满足 \({{c^T}x + d &gt; 0}\), \(C\) 的像 \(f(C)\) 和原像 \({f^{ - 1}}(C)\) 都是凸的.</p>
<ul>
<li>
<p>条件概率</p>
<p>对于随机变量 \(u,v\), 已知联合分布概率 \({p _ {ij}} = {\rm{prob}}(u = i,v = j)\), 那么条件概率 \({f _ {ij}} = {\rm{prob}}(u = i|v = j)\) 可以写成</p>
<p>\[{f _ {ij}} = \frac{{{p _ {ij}}}}{{\sum\limits _ k {{p _ {kj}}} }}\]</p>
<p>我们发现 \(f\) 可以通过一个线性分式映射从 \(p\) 得到. 所以, 如果 \(C\) 是一个关于 \((u,v)\) 的联合分布概率的凸集, 那么 \(u\) 在给定 \(v\) 下的条件概率也是凸集.</p>
<figure>
    <img src="/figures/cvx-2-operations/2-set-image-and-doms.jpg"/> <figcaption>
            <h4>对于集合 \(C \subseteq {\mathbb{R}^2}\) 和线性分式函数 \(f(x) = x/({x_1} &#43; {x_2} &#43; 1)\), 左: \(C\) 和 \(f\) 的定义域的边界 (定义域为虚线右上部分); 右: \(C\) 在 \(f\) 下的像 和 \({f^{ - 1}}\) 的定义域的边界 (定义域为虚线左下部分)</h4>
        </figcaption>
</figure>

</li>
</ul>

    </div>

    <div class="post-copyright">
        
        <p class="copyright-item">
            <span><i class="fas fa-pen"></i> Author:</span>
            <span><a href="https://snowztail.com">SnowzTail</a></span>
        </p>
        

        
        <p class="copyright-item">
            <span><i class="fas fa-link"></i> Link:</span>
            <span><a href=https://snowztail.com/cvx-2-operations/>https://snowztail.com/cvx-2-operations/</span></a>
        </p>
        
        
        <p class="copyright-item license">
            <span><i class="far fa-copyright"></i> License: </span>
            <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>
        </p>
        
    </div>

    <div class="post-tags">
        
        <section>
            <i class="fas fa-tag"></i> Tag(s):
            
            <span class="tag"><a href="https://snowztail.com/tags/convex-optimization/">
                    #Convex Optimization</a></span>
            
        </section>
        
        <section>
            <a href="javascript:window.history.back();"><i class="fas fa-undo"></i> Back</a></span>
            
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://snowztail.com/cvx-1-convex-sets/" class="prev" rel="prev" title="凸优化 1 - 凸集"><i
                class="fas fa-angle-left"></i>&nbsp;凸优化 1 - 凸集</a>
        
        
        <a href="https://snowztail.com/cvx-3-ordering-separating-and-supporting/" class="next" rel="next"
            title="凸优化 3 - 关系">凸优化 3 - 关系&nbsp;<i class="fas fa-angle-right"></i></a>
        
    </div>

    <div class="post-comment">
        
        
        <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://cdn.bootcss.com/gitalk/1.5.2/gitalk.css">
<script src="https://cdn.bootcss.com/gitalk/1.5.2/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({

        clientID: 'f62b90ce7b84b2ef88a8',
        clientSecret: 'e84f9cd8b273de7f83bac61764239692491fb5ea',
        repo: 'blog',
        owner: 'SnowzTail',
        admin: ['SnowzTail'],
        id: location.pathname, 
        distractionFreeMode: false 
    });
    (function () {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
            return;
        }
        gitalk.render('gitalk-container');
    })();
</script>

        
        
    </div>
</article>
                </div>
            </main>
            <footer class="footer">
   <div class="copyright">
      &copy;
      
      <span itemprop="copyrightYear">2019 - 2020</span>
      

      
      <span class="author" itemprop="copyrightHolder"><a
            href="https://snowztail.com">SnowzTail</a></span>
      
   </div>
   <button id="scroll">
      <i class="fas fa-chevron-up"></i>
   </button>
</footer>





<script defer src="/js/vendor_main.min.js"></script>


<script>
    const scroll = document.querySelector("#scroll");
    scroll.addEventListener("click", function () {
        window.scrollTo({
            top: 0,
            left: 0,
            behavior: "smooth"
        });
    });
</script>



<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>









<style>
   html {
      visibility: visible;
      opacity: 1;
   }
</style>

        </div>
    </body>
</html>
